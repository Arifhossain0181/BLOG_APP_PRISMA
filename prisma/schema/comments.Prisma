
model Comments {
  id        String        @id @default(uuid())
  content   String        @db.VarChar(500)
  authorId  String //better auth
  postId    String
  post      Post          @relation(fields: [postId], references: [id] ,onDelete: Cascade)
  ParentsId String?
  Parent    Comments?     @relation("CommentReplies", fields: [ParentsId], references: [id], onDelete: Cascade, onUpdate: NoAction)
  replies   Comments[]    @relation("CommentReplies")
  status    CommentStatus @default(APPROVED)
  updatedAt DateTime      @updatedAt
  createdAt DateTime      @default(now())

  @@index([postId])
  @@index([authorId])
  @@map("comments")
}

enum CommentStatus {
  DRAFT
  APPROVED
  REJECTED
}